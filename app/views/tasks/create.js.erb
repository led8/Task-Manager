const addTask = (taskHTML) => {
  const tasks = document.getElementById('tasks');
  tasks.insertAdjacentHTML('afterbegin', taskHTML);

  const form = document.querySelectorAll('.form-control');
  alert(`${form[0].value} has been correctly created`);
  form.forEach((input) => {
    return input.value = '';
  });
};

const errorTask = () => {
  const form = document.querySelectorAll('.form-control');
  form.forEach((input) => {
    if (input.value === ''){
      input.style.borderColor = 'red';
    } else {
      input.style.borderColor = 'green';
    };
  });
  alert('Something wrong happens');
};

<% if @task.errors.any? %>
  errorTask();
<% else %>
  addTask('<%= j render "tasks/index", task: @task %>');
<% end %>






